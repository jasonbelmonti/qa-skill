{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://qa-skill.local/schemas/v1/skill-manifest.v1.json",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "schemaVersion": {
      "const": "skill-manifest.v1"
    },
    "skillId": {
      "type": "string",
      "minLength": 1
    },
    "skillVersion": {
      "type": "string",
      "minLength": 1
    },
    "name": {
      "type": "string",
      "minLength": 1
    },
    "summary": {
      "type": "string",
      "minLength": 1
    },
    "registryPath": {
      "const": "skill/registry.v1.json"
    },
    "defaultRunMode": {
      "$ref": "https://qa-skill.local/schemas/v1/defs/common.v1.json#/$defs/runMode"
    },
    "supportedLensClasses": {
      "type": "array",
      "minItems": 1,
      "uniqueItems": true,
      "items": {
        "$ref": "https://qa-skill.local/schemas/v1/defs/common.v1.json#/$defs/lensClass"
      }
    },
    "deterministicOrdering": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "lenses": {
          "const": "lensId ASC"
        },
        "subLenses": {
          "const": "subLensId ASC"
        }
      },
      "required": ["lenses", "subLenses"]
    }
  },
  "required": [
    "schemaVersion",
    "skillId",
    "skillVersion",
    "name",
    "summary",
    "registryPath",
    "defaultRunMode",
    "supportedLensClasses",
    "deterministicOrdering"
  ]
}
